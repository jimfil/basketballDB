{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Match Explorer{% endblock %}</h1>
{% endblock %}

{% block content %}
  <div class="explorer-container">
    <div class="explorer-column">
      <h2>Seasons</h2>
      <ul>
        {% for season in seasons %}
          <li><a href="{{ url_for('explorer.index', season_year=season.year) }}">{{ season.year }}</a></li>
        {% endfor %}
      </ul>
    </div>

    {% if phases is not none %}
      <div class="explorer-column">
        <h2>Phases</h2>
        <ul>
          {% for phase in phases %}
            <li><a href="{{ url_for('explorer.index', season_year=selected_season, phase_id=phase.id) }}">Phase {{ phase.phase_id }}</a></li>
          {% endfor %}
        </ul>
        {% if selected_phase %}
        <a href="{{ url_for('explorer.standings', phase_id=selected_phase) }}">View Standings</a>
        {% endif %}
      </div>
    {% endif %}

    {% if rounds is not none %}
      <div class="explorer-column">
        <h2>Rounds</h2>
        <ul>
          {% for round in rounds %}
            <li><a href="{{ url_for('explorer.index', season_year=selected_season, phase_id=selected_phase, round_id=round.id) }}">Round {{ round.round_id }}</a></li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    {% if matches is not none %}
        <div class="explorer-column">
            <h2>Matches</h2>
            <table>
                <thead>
                <tr>
                    <th>Date</th>
                    <th>Home Team</th>
                    <th>Away Team</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>
                {% for match in matches %}
                    <tr>
                        <td><a href="{{ url_for('explorer.match_details', match_id=match.match_id) }}">{{ match.match_date }}</a></td>
                        <td>{{ match.home_team_id }}</td>
                        <td>{{ match.away_team_id }}</td>
                        <td>{{ match.status }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    {% endif %}
  </div>

  <style>
    .explorer-container {
      display: flex;
      flex-direction: row;
      gap: 2rem;
    }
    .explorer-column {
      flex: 1;
    }
  </style>
{% endblock %}
