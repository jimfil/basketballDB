{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Create Match{% endblock %}</h1>
{% endblock %}

{% block content %}
  <div class="explorer-container">
    <div class="explorer-column">
      <h2>Seasons</h2>
      <ul>
        {% for season in seasons %}
          <li><a href="{{ url_for('creator.create_match_route', season_year=season.year) }}">{{ season.year }}</a></li>
        {% endfor %}
      </ul>
    </div>

    {% if phases is not none %}
      <div class="explorer-column">
        <h2>Phases</h2>
        <ul>
          {% for phase in phases %}
            <li><a href="{{ url_for('creator.create_match_route', season_year=selected_season, phase_id=phase.id) }}">Phase {{ phase.phase_id }}</a></li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    {% if rounds is not none %}
      <div class="explorer-column">
        <h2>Rounds</h2>
        <ul>
          {% for round in rounds %}
            <li><a href="{{ url_for('creator.create_match_route', season_year=selected_season, phase_id=selected_phase, round_id=round.id) }}">Round {{ round.round_id }}</a></li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    {% if selected_round %}
        <div class="explorer-column">
            <h2>Create Match</h2>
            <form method="post">
                <input type="hidden" name="round_id" value="{{ selected_round }}">
                <label for="stadium_id">Stadium</label>
                <select name="stadium_id" id="stadium_id" required>
                {% for stadium in stadiums %}
                    <option value="{{ stadium.id }}">{{ stadium.name }}</option>
                {% endfor %}
                </select>
                <label for="home_team_id">Home Team</label>
                <select name="home_team_id" id="home_team_id" required>
                {% for team in teams %}
                    <option value="{{ team.id }}">{{ team.name }}</option>
                {% endfor %}
                </select>
                <label for="away_team_id">Away Team</label>
                <select name="away_team_id" id="away_team_id" required>
                {% for team in teams %}
                    <option value="{{ team.id }}">{{ team.name }}</option>
                {% endfor %}
                </select>
                <label for="match_date">Match Date</label>
                <input name="match_date" id="match_date" type="date" required>
                <label for="status">Status</label>
                <select name="status" id="status" required>
                    <option value="Scheduled">Scheduled</option>
                    <option value="Ongoing">Ongoing</option>
                    <option value="Completed">Completed</option>
                    <option value="Stopped">Stopped</option>
                </select>
                <input type="submit" value="Create">
            </form>
        </div>
    {% endif %}
  </div>

  <style>
    .explorer-container {
      display: flex;
      flex-direction: row;
      gap: 2rem;
    }
    .explorer-column {
      flex: 1;
    }
  </style>
{% endblock %}
