{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Match Details{% endblock %}</h1>
{% endblock %}

{% block content %}
  {% if match %}
    <h2>Match on {{ match.match_date }}</h2>
    <p><strong>Status:</strong> {{ match.status }}</p>
    <p><strong>Location:</strong> {{ match.stadium_id }}</p>
    <p><strong>Home Team ID:</strong> {{ match.home_team_id }}</p>
    <p><strong>Away Team ID:</strong> {{ match.away_team_id }}</p>
  {% else %}
    <p>Match not found.</p>
  {% endif %}

  <div class="details-container">
    <div class="details-column">
      <h3>Players</h3>
      {% if players %}
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Speciality</th>
            </tr>
          </thead>
          <tbody>
            {% for player in players %}
              <tr>
                <td>{{ player.id }}</td>
                <td>{{ player.first_name }}</td>
                <td><a href="{{ url_for('basketball.player_details', id=player.id) }}">{{ player.last_name }}</a></td>
                <td>{{ player.speciality }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p>No players found for this match.</p>
      {% endif %}
    </div>

    <div class="details-column">
      <h3>Events</h3>
      {% if events %}
        <table>
          <thead>
            <tr>
              <th>Shirt Number</th>
              <th>Last Name</th>
              <th>Event</th>
              <th>Game Time</th>
              <th>Team</th>
            </tr>
          </thead>
          <tbody>
            {% for event in events %}
              <tr>
                <td>{{ event[0] }}</td>
                <td>{{ event[1] }}</td>
                <td>{{ event[2] }}</td>
                <td>{{ event[3] }}</td>
                <td>{{ event[4] }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p>No events found for this match.</p>
      {% endif %}
    </div>
  </div>

  <style>
    .details-container {
      display: flex;
      flex-direction: row;
      gap: 2rem;
    }
    .details-column {
      flex: 1;
    }
  </style>
{% endblock %}
